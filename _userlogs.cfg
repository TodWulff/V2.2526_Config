[delayed_gcode _userlogs_loaded]
initial_duration: 4.501
gcode:
	_proc_start function=_userlogs_loaded func_params='"{rawparams|string}"'  
	_module_loaded MODULE=_userlogs
	_proc_end function=_userlogs_loaded 

[userlog]
log_file_directory:	~/printer_data/logs		
log_entry_timestamp: $(date +%H:%M:%S.%N)			# https://linux.die.net/man/3/strftime

# may need some pointers to logrotate stuffs, or is it reasonably the same on most all klipper hosts?
# rotates a user.log in log file directory using these settings when _rotatue_user_logs log_file=somelogfile is commanded
logrot_conf:
	daily
	dateext
	dateformat .%Y-%m-%d-%s.log
	create 644 pi
	rotate 3
	missingok
	notifempty
	maxsize 4M

[userlog macro_trace_debug]
# effectively a real-time logging of print-time code flow of stock and user macro calls
# 'tail -f -n40 ~/printer_data/logs/macro_trace_debug.log' via ssh for NRT visibility
# USE CASE: troubleshooting unexpected developments - timer too close, malformed commands, etc.
macro_name_regex:	
	^\h*(?i)(\d|\w)+\h*(.*)

[userlog gmove_debug]
# logging of print-time codes that affect tool-head movement/filament flow
# 'tail -f -n40 ~/printer_data/logs/gmove_debug.log' via ssh for NRT visibility.
# USE CASE: identifying issues and possible causes with print issues
macro_name_regex:	
	^\h*(?i)(g0|g1|g4|g10|g11|m220|m221|g90|g91|m82|m83|g20|g21)+\h*(.*)

[userlog svv_debug]
# logging of print-time variable value saves to the save_variables file
# 'tail -f -n40 ~/printer_data/logs/svv_debug.log' via ssh for NRT visibility.
# USE CASE: identifying errors when setting up user macros
macro_name_regex:	
	^\h*(?i)(save_variable)+\h*(.*)

[userlog gstate_debug]
# effectively a real-time logging of print-time gcode state saves/restores
# 'tail -f -n40 ~/printer_data/logs/gstate_debug.log' via ssh for NRT visibility.
# USE CASE: troubleshooting user macros - especially wrt pause/restore/park/fil chg/etc.
macro_name_regex:	
	^\h*(?i)(save_gcode_state|restore_gcode_state)+\h*(.*)











in user macros, affect a log entry by use of the kulog command

log_gmove S="G0 {rawparams|upper}" 

ulog log_file S="log entry"		