#####################################################################
# 	_led_effects
#####################################################################

[gcode_macro _info_led_effects]
gcode:

# todo

[led_effect]
# enable the module
#----------------------------------------------------------------------------------

[gcode_macro _ledeff_vars]
description:  led effects module variables

variable_ledeff_verb_error:		1		# set to 0 to mute error reporting (um, errors.  lol)
variable_ledeff_verb_info:		0	   # set to 0 to mute info reporting (has data)
variable_ledeff_verb_status:	0	   # set to 0 to mute status reporting (useful modes, update, etc.)
variable_ledeff_verb_debug:		0	   # set to 0 to mute debugs stuffs I added (proc entry/exit)

gcode:
	# there is none

[delayed_gcode _ledeff_module_start]
#description:  Inits state flags & other stuffs for conditional use elsewhere.
# module load verbosity controlled by _printer_vars in printer.cfg
# module specific verbosity controlled by above
initial_duration: 0.5							# have this at 0.5s as init code in _startup_autoexec.cfg runs at 0.1s after start
gcode:

	{% if printer["gcode_macro _printer_vars"].ptr_verb_codeflow %} _proc_start function=_ledeff_module_start func_params='"{rawparams|string}"'  {% endif %}

	{% if printer["gcode_macro _printer_vars"].ptr_verb_modload %} M118 >>> _ledeff_module_start Start <<< {% endif %}

	SAVE_VARIABLE VARIABLE=module_ledeff_loaded VALUE=1						#flag via persistent variable that this module is loaded
	SAVE_VARIABLE VARIABLE=ledeff_err_flag VALUE=0							#init error flag that this module is not in error

	{% if printer["gcode_macro _printer_vars"].ptr_verb_modload %} M118 >>> _ledeff_module_start End <<< {% endif %}

	{% if printer["gcode_macro _printer_vars"].ptr_verb_codeflow %} _proc_end function=_ledeff_module_start {% endif %}

#----------------------------------------------------------------------------------

[gcode_macro _set_ledeff_mode]
description: helper script to start a new effect on LEDs
# pass CHAIN=foo EFFECT=bar as parameters to this proc (will default to chamber_lights and normal respectively)
# example: _set_ledeff_mode CHAIN=chamber_lights EFFECT=critical_error
# optionally pass RESET=0 to override the typical STOP behavior normally needed when asserting a new effect on a chain
gcode:

	{% if printer["gcode_macro _printer_vars"].ptr_verb_codeflow %} _proc_start function=_set_ledeff_mode func_params='"{rawparams|string}"'  {% endif %}

	{% if printer["gcode_macro _ledeff_vars"].ledeff_verb_status %}  M118 >>> _set_ledeff_mode start <<< {% endif %}
	{% if printer["gcode_macro _ledeff_vars"].ledeff_verb_info %}  M118 >>> _set_ledeff_mode {rawparams} <<< {% endif %}

	{% set LEDChain = params.CHAIN|default("chamber_lights")|string %}
	{% set LEDEffect = params.EFFECT|default("normal")|string %}
	{% set LEDReset = params.RESET|default(1)|int %}

	{% if printer["gcode_macro _ledeff_vars"].ledeff_verb_info %}  M118 >>> LEDChain:{LEDChain}  LEDEffect:{LEDEffect}  LEDReset:{LEDReset} <<< {% endif %}

	{% if LEDReset %}
		# M118 LastLEDEffect:{printer.save_variables.variables.last_{LEDChain}_effect}	#<-- parser chokes on this - broke down and coded the following
		{% if LEDChain == "chamber_lights" %}
			{% set LastMode = printer.save_variables.variables.last_chamber_lights_effect %}
		{% elif LEDChain == "dash_lights" %}
			{% set LastMode = printer.save_variables.variables.last_dash_lights_effect %}
		{% elif LEDChain == "ercf_lights" %}
			{% set LastMode = printer.save_variables.variables.last_ercf_lights_effect %}
		{% elif LEDChain == "lcd_lights" %}
			{% set LastMode = printer.save_variables.variables.last_lcd_lights_effect %}
		{% elif LEDChain == "8x8_array" %}
			{% set LastMode = printer.save_variables.variables.last_8x8_array_lights_effect %}
		# {% else %}

		{% endif %}
		set_led_effect {"EFFECT=" +  {"chamber_lights":"CL_","8x8_array":"8A_","lcd_lights":"LcdLts_","dash_lights":"DBLts_","ercf_lights":"ERCF_"}[LEDChain]|default("CL_")  + LastMode + " STOP=1" }

	{% endif %}

	set_led_effect {"EFFECT=" +  {"chamber_lights":"CL_","8x8_array":"8A_","lcd_lights":"LcdLts_","dash_lights":"DBLts_","ercf_lights":"ERCF_"}[LEDChain]|default("CL_")  + LEDEffect }

	SAVE_VARIABLE VARIABLE=last_{LEDChain|lower}_effect VALUE='"{LEDEffect}"'

	{% if printer["gcode_macro _ledeff_vars"].ledeff_verb_status %}  M118 >>> _set_ledeff_mode complete <<< {% endif %}

	{% if printer["gcode_macro _printer_vars"].ptr_verb_codeflow %} _proc_end function=_set_ledeff_mode {% endif %}

######################################################

# https://github.com/julianschill/klipper-led_effect/blob/master/docs/LED_Effect.md 

# FRAME RATE
# A value of >0 to 60.0 max.  0 causes a div by zero error if used in the effect.

# EFFECT RATE
# A value of >0 to  
# Be careful of values < 1.0 as (I perceive) this may affect memalloc and can cause substantive
# startup issues for very small values (i.e. < 0.001).

# EFFECTS

# Static
# Effect Rate:  Not used but must be provided
# Cutoff:	   Not used but must be provided
# Palette:	  Colors are blended evenly across the strip
# A single color is displayed and it does not change. If a palette of multiple colors is provided,
# colors will be evenly blended along the LEDs based on difference in hue.

# Breathing
# Effect Rate:  3   Duration of a complete cylce
# Cutoff:	   0   Not used but must be provided
# Palette:		  Colors are cycled in order
# Colors fade in and out. If a palette of multiple colors is provided, it will cycle through those
# colors in the order they are specified in the palette. The effect speed parameter controls how
# long it takes to "breathe" one time.

# Blink
# Effect Rate:  1   Duration of a complete cylce
# Cutoff:	   0   Not used but must be provided
# Palette:		  Colors are cycled in order
# LEDs are turned fully on and fully off based on the effect speed. If a palette of multiple colors
# is provided, it will cycle through those colors in order.

# Strobe
# Effect Rate:  1   Number of times per second to strobe
# Cutoff:	   1.5 Determines decay rate. A higher number yields quicker decay
# Palette:		  Colors are cycled in order
# LEDs are turned fully on and then faded out over time with a decay. If a palette of multiple colors
# is provided, it will cycle through those colors in order. The effect rate controls how many times
# per second the lights will strobe. The cutoff parameter controls the decay rate. A good decay rate is 1.5.
 
# Twinkle
# Effect Rate:  1   Increases the probability that an LED will illuminate.
# Cutoff:	   .25 Determines decay rate. A higher number yields quicker decay
# Palette:		  Random color chosen
# Random flashes of light with decay along a strip. If a palette is specified, a random color is
# chosen from the palette.

# Gradient
# Effect Rate:  1   How fast to cycle through the gradient
# Cutoff:	   0   Not used but must be provided
# Palette:		  Linear gradient with even spacing.
# Colors from the palette are blended into a linear gradient across the length of the strip.
# The effect rate parameter controls the speed at which the colors are cycled through.
# A negative value for the effect rate changes the direction the gradient cycles (right to left vs left to right)

# Comet
# Effect Rate:  1   How fast the comet moves, negative values change direction
# Cutoff:	   1   Length of tail (somewhat arbitrary)
# Palette:		  Color of "head" and gradient of "tail"
# A light moves through the LEDs with a decay trail. Direction can be controlled by using a
# negative effect rate value. The palette colors determine the color of the comet and the tail.
# The first color of the palette defines the color of the "head" of the comet and the remaining
# colors are blended into the "tail"

# Chase
# Effect Rate:  1   How fast the comet moves, negative values change direction
# Cutoff:	   1   Length of tail (somewhat arbitrary)
# Palette:		  Color of "head" and gradient of "tail"
# Identical settings as Comet, but with multiple lights chasing each other.

# Heater
# Effect Rate:  1   Minimum temperature to activate effect
# Cutoff:	   0   Disable effect once temp is reached
# Palette:		  Color values to blend from Cold to Hot
# This effect becomes active when the specified heater is active or the temperature is greater
# than the minimum specified temperature. For instance, if a heater is turned on and set to a
# target temperature, the LEDs will cycle through the gradient colors until the target temperature
# is met. Once it has been met, the last color of the gradient is used and the effect is essentially
# a static color until the. Heater state changes. If the cutoff parameter is supplied, the effect
# will be disabled once the targe temperature is met. If the heater is turned off, the colors will
# follow this pattern in reverse until the temperature falls below the minimum temperature specified
# in the config. This can be used to indicate the hotend or bed is in a safe state to touch.

# Fire
# Effect Rate:  45  Probability of "sparking"
# Cutoff:	   40  Rate of "cooling"
# Palette:		  Color values to blend from "Cold" to "Hot"
# The FastLED library for Arduino has a sample sketch called Fire2012WithPalette included with it.
# This effect is a port of that sketch. It simulates a flame by "sparking" an LED. The "heat" from
# that LED travels down the length of the LEDs where it gradually cools. A higher rate of sparking
# causes a greater amount of heat to accumulate at the base of the strip resulting a more intense
# flame. Changing the rate of cooling results in longer or shorter overall flames.

# HeaterFire
# Effect Rate:  1  Minimum temperature to activate effect
# Cutoff:	   0   Disable effect once temp is reached
# Palette:		  Color values to blend from "Cold" to "Hot"
# The fire effect but responsive to the temperature of the specified heater. The flame starts as a
# small ember and increases in intensity as the heater's target temperature is reached. If the cutoff
# parameter is set to 1, the effect will be disabled once the target temperature is reached, otherwise
# it will stay active until the heater is disabled.

# AnalogPin
# Effect Rate:  10  Multiplier for input signal
# Cutoff:	   40  Minimum threshold to trigger effect
# Palette:		  Color values to blend
# This effect uses the value read from an analog pin to determine the color. If multiple colors are
# specified in the palette, it chooses one based on the value of the pin. If only one color is specified,
# the brightness is proportional to the pin value. An example usage would be attaching an analog
# potentiometer that controls the brightness of an LED strip. Internally, input voltage is measured as a
# percentage of voltage vs aref. Another use could be to attach the RPM wire from a fan if the fan has a
# tachometer. It must be used with care as too much current or too high a voltage can damage a pin or
# destroy a controller board.

# Stepper
# Effect Rate:  4   Number of trailing LEDs
# Cutoff:	   4   Number of leading LEDs
# Palette:		  Color values to blend
# The position of the specified stepper motor is represented by the first color in the palette. 
# The remaining colors in the gradient are blended and mirrored on either side. 
# As the stepper position changes relative to the axis length, the lights move up and down the strip. 
# It should be noted that the effect itself updates stepper position every half second based on the
# reported position of the stepper similar to the GET_POSITION gcode command. It will not be realtime. 
# A neagive value in effect rate will fill the entire strip leading up to the stepper postion,
# a negative value in cutoff will fill the entire strip after the stepper position.

# Progress
# Effect Rate:  4   Number of trailing LEDs
# Cutoff:	   4   Number of leading LEDs
# Palette:		  Color values to blend
# Exact same configuration as Stepper but instead of reporting stepper position, this layer reports print progress.

# BLEND - Effect Layer Blending

# If you have ever used image editing software you may be familiar with color blending between image layers. 
# Several common color blending techniques have been added to blend LEDS layers together.
# Layers defined in the configuration are ordered top to bottom.
# If there are 3 layers defined, the bottom layer is first blended with the middle layer, then blended with the top.
# The bottom layer will never be blended with anything even if a blending mode is specified.
# Layer blending is always evaluated from the bottom up.
# Since values cannot exceed 100% brightness and 0% darkness, they are clamped to this range as a floating point number ( 0.0 - 1.0 )

# bottom							No blending is done, the value from the color channel of the bottom layer is used.
# top								No blending is done, the value from the color channel of the top layer is used.
# add ( t + b )						Color channels (Red, Green, and Blue) are added to one another. This results in channels becoming brighter.
# subtract ( t - b )				The the bottom layer is subtracted from the top layer. This results in darkening similar colors.
# difference ( t - b ) or ( b - t )	The darker of the layers is subtracted from the brighter of the two
# average ( t + b ) / 2				The average of the channels is taken
# multiply ( t * b )				The channels are multiplied together, this is useful to darken colors
# divide ( t / b )					The channels are divided, this results in brightening colors, often to white
# screen 1 - ( 1 - t ) * ( 1 - b )	The values are inverted, multiplied, and then inverted again. Similar to divide, it results in brighter colors
# lighten ( t if t > b else b )		The brighter of the color channels is used
# darken ( t if t < b else b )		The opposite of lighten, the darker of color channels is used
# overlay ( 2ab if a > .5 else 1 - 2( 1 - a )( 1 - b ) )	Overlay is a combination of multiply & screen - increases contrast.

#----------------------------------------------------------------------------------

[led_effect CL_test]
autostart:			  false
frame_rate:			 60
leds:
	dotstar:chamber_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	twinkle		0.0001	60.0	add			(1.0, 1.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect CL_off]
autostart:			  false
frame_rate:			 1
leds:
	dotstar:chamber_lights
layers:
#   Name		Rate	Cutoff	Blend		Palette
	static		0		0		add			(0.0, 0.0, 0.0)

#----------------------------------------------------------------------------------

[led_effect CL_normal]
autostart:			  false
frame_rate:			 1
leds:
	dotstar:chamber_lights
layers:
#   Name		Rate	Cutoff	Blend		Palette
	static		0		0		add			(0.5, 0.5, 0.5)

#----------------------------------------------------------------------------------

[led_effect CL_fast_w_twinkle]
autostart:			  false
frame_rate:			 60
leds:
	dotstar:chamber_lights
layers:
#   Name		Rate	Cutoff	Blend		Palette
	twinkle		1		1.5		add			(1.0, 1.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect CL_w_twinkle]
autostart:			  false
frame_rate:			 24
leds:
	dotstar:chamber_lights
layers:
#   Name		Rate	Cutoff	Blend		Palette
	twinkle		1		0.1		add			(1.0, 1.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect CL_fast_rgb_gradient]
autostart:			  false
frame_rate:			 24
leds:
	dotstar:chamber_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	gradient	10		0		add			(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect CL_fast_wrgb_gradient]
autostart:			  false
frame_rate:			 24
leds:
	dotstar:chamber_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	gradient	10		0		add			(1.0, 1.0, 1.0),(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect CL_wbrgb_gradient]
autostart:			  false
frame_rate:			 24
leds:
	dotstar:chamber_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	gradient	1		0		add			(1.0, 1.0, 1.0),(0.0, 0.0, 0.0),(0.1, 0.0, 0.0),(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect CL_wrgb_gradient]
autostart:			  false
frame_rate:			 24
leds:
	dotstar:chamber_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	gradient	1		0		add			(1.0, 1.0, 1.0),(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect CL_rgb_gradient]
autostart:			  false
frame_rate:			 24
leds:
	dotstar:chamber_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	gradient	1		0		add			(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect CL_slow_rgb_gradient]
autostart:			  false
frame_rate:			 24
leds:
	dotstar:chamber_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	gradient	0.1		0		add			(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect CL_static_rgb_gradient]
autostart:			  false
frame_rate:			 1
leds:
	dotstar:chamber_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	static		0		0		add			(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect CL_static_wrgb_gradient]
autostart:			  false
frame_rate:			 1
leds:
	dotstar:chamber_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	static		0		0		add			(1.0, 1.0, 1.0),(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect CL_static_bwrgb_gradient]
autostart:			  false
frame_rate:			 1
leds:
	dotstar:chamber_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	static		0		0		add			(0.0, 0.0, 0.0),(0.5, 0.5, 0.5),(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect CL_wrgb_twinkle]
autostart:			  false
frame_rate:			 60
leds:
	dotstar:chamber_lights (1-229)
layers:
#   Name		Rate	Cutoff	Blend		Palette
	twinkle		0.1		1.5		add			(1.0, 1.0, 1.0),(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect CL_orange]
frame_rate:							1
autostart:							 false
leds:							   
	dotstar:chamber_lights
layers:
 #   Name		Rate	Cutoff	Blend		Palette
	static		1		1		top			(0.9,0.3,0)

#----------------------------------------------------------------------------------

[led_effect CL_red]
frame_rate:							1
autostart:							 false
leds:							   
	dotstar:chamber_lights
layers:
 #   Name		Rate	Cutoff	Blend		Palette
	static		1		1		top			(1,0,0)

#----------------------------------------------------------------------------------

[led_effect CL_green]
frame_rate:							1
autostart:							 false
leds:							   
	dotstar:chamber_lights
layers:
#   Name		Rate	Cutoff	Blend		Palette
	static		1		1		top			(0,1,0)

#----------------------------------------------------------------------------------

[led_effect CL_blue]
frame_rate:							1
autostart:			false
leds:							   
	dotstar:chamber_lights
layers:
#   Name		Rate	Cutoff	Blend		Palette
	static		1		1		top			(0,0,1)

#----------------------------------------------------------------------------------

[led_effect CL_dim_rgb]
autostart:							 false
frame_rate:							24
leds:
	dotstar:chamber_lights
layers: 
#   Name		Rate	Cutoff	Blend		Palette
	gradient	1		1		top			(0.1, 0.0, 0.0),(0.0, 0.1, 0.0),(0.0, 0.0, 0.1)

#----------------------------------------------------------------------------------

[led_effect CL_rgb]
autostart:							 false
frame_rate:							24
leds:
	dotstar:chamber_lights
layers: 
#   Name		Rate	Cutoff	Blend		Palette
	gradient	1		1		top			(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect CL_critical_error]
autostart:							 false
frame_rate:							24
run_on_error:						  true
leds:
	dotstar:chamber_lights
layers: 
#   Name		Rate	Cutoff	Blend		Palette
	strobe		1		1.5		add			(1.0,  1.0, 1.0)
	breathing	2		0		difference	(0.95, 0.0, 0.0)  
	static		1		0		top			(1.0,  0.0, 0.0)

#----------------------------------------------------------------------------------

[led_effect CL_critical_error2]
autostart:							 false
frame_rate:							24
run_on_error:						  false
leds:
	# dotstar:chamber_lights ({printer.save_variables.variables.rear_ledbar_range})
	dotstar:chamber_lights (169-228)
layers: 
#   Name				Rate	Cutoff	Blend		Palette
	strobe				1		1.5		add			(1.0,  1.0, 1.0)
	breathing			2		0		difference	(0.95, 0.0, 0.0)  
	static				1		0		top			(1.0,  0.0, 0.0)

#----------------------------------------------------------------------------------

[led_effect CL_bed_temp]
autostart:						  false
frame_rate:						 24
leds:							   
	dotstar:chamber_lights
heater:							 heater_bed
layers:
#   Name		Rate	Cutoff	Blend		Palette
	heater		20		0		top			(0.019607843,0,1),(0.015686275,0,1),(0.011764706,0,1),(0.007843137,0,1),(0.003921569,0,1),(0,0,1),(0,0.007843137,1),(0,0.070588235,1),(0,0.133333333,1),(0,0.196078431,1),(0,0.266666667,1),(0,0.329411765,1),(0,0.392156863,1),(0,0.454901961,1),(0,0.517647059,1),(0,0.580392157,1),(0,0.643137255,1),(0,0.705882353,1),(0,0.768627451,1),(0,0.831372549,1),(0,0.894117647,1),(0,1,0.956862745),(0,1,0.815686275),(0,1,0.658823529),(0,1,0.51372549),(0,1,0.360784314),(0,1,0.211764706),(0,1,0.062745098),(0.090196078,1,0),(0.243137255,1,0),(0.396078431,1,0),(0.541176471,1,0),(0.690196078,1,0),(0.843137255,1,0),(0.992156863,1,0),(1,0.980392157,0),(1,0.941176471,0),(1,0.901960784,0),(1,0.862745098,0),(1,0.823529412,0),(1,0.784313725,0),(1,0.745098039,0),(1,0.705882353,0),(1,0.666666667,0),(1,0.62745098,0),(1,0.588235294,0),(1,0.549019608,0),(1,0.509803922,0),(1,0.470588235,0),(1,0.431372549,0),(1,0.392156863,0),(1,0.352941176,0),(1,0.31372549,0),(1,0.274509804,0),(1,0.235294118,0),(1,0.196078431,0),(1,0.156862745,0),(1,0.117647059,0),(1,0.078431373,0),(1,0.039215686,0),(1,0,0)

#----------------------------------------------------------------------------------

[led_effect CL_he_temp]
autostart:						  false
frame_rate:						 24
heater:							 extruder
leds:							   
	dotstar:chamber_lights
layers:
#   Name		Rate	Cutoff	Blend		Palette
	heater		20		0		top			(0.019607843,0,1),(0.015686275,0,1),(0.011764706,0,1),(0.007843137,0,1),(0.003921569,0,1),(0,0,1),(0,0.007843137,1),(0,0.070588235,1),(0,0.133333333,1),(0,0.196078431,1),(0,0.266666667,1),(0,0.329411765,1),(0,0.392156863,1),(0,0.454901961,1),(0,0.517647059,1),(0,0.580392157,1),(0,0.643137255,1),(0,0.705882353,1),(0,0.768627451,1),(0,0.831372549,1),(0,0.894117647,1),(0,1,0.956862745),(0,1,0.815686275),(0,1,0.658823529),(0,1,0.51372549),(0,1,0.360784314),(0,1,0.211764706),(0,1,0.062745098),(0.090196078,1,0),(0.243137255,1,0),(0.396078431,1,0),(0.541176471,1,0),(0.690196078,1,0),(0.843137255,1,0),(0.992156863,1,0),(1,0.980392157,0),(1,0.941176471,0),(1,0.901960784,0),(1,0.862745098,0),(1,0.823529412,0),(1,0.784313725,0),(1,0.745098039,0),(1,0.705882353,0),(1,0.666666667,0),(1,0.62745098,0),(1,0.588235294,0),(1,0.549019608,0),(1,0.509803922,0),(1,0.470588235,0),(1,0.431372549,0),(1,0.392156863,0),(1,0.352941176,0),(1,0.31372549,0),(1,0.274509804,0),(1,0.235294118,0),(1,0.196078431,0),(1,0.156862745,0),(1,0.117647059,0),(1,0.078431373,0),(1,0.039215686,0),(1,0,0)

#----------------------------------------------------------------------------------

[led_effect CL_kitt]
autostart:							 false
frame_rate:							24
leds:
	dotstar:chamber_lights
layers: 
#   Name		Rate	Cutoff	Blend		Palette
	comet		0.5		1.0		top			(1.0, 0.0, 0.0),(0.5, 0.0, 0.0),(0.3, 0.0, 0.0),(0.1, 0.0, 0.0)

###################################################################################
###################################################################################
###################################################################################
###################################################################################
###################################################################################
###################################################################################

[led_effect DBLts_test]
autostart:			  false
frame_rate:			 60
leds:
	neopixel:dash_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	twinkle		0.0001	60.0	add			(1.0, 1.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect DBLts_off]
autostart:			  false
frame_rate:			 1
leds:
	neopixel:dash_lights
layers:
#   Name		Rate	Cutoff	Blend		Palette
	static		0		0		add			(0.0, 0.0, 0.0)

#----------------------------------------------------------------------------------

[led_effect DBLts_normal]
autostart:			  false
frame_rate:			 1
leds:
	neopixel:dash_lights
layers:
#   Name		Rate	Cutoff	Blend		Palette
	static		0		0		add			(0.5, 0.5, 0.5)

#----------------------------------------------------------------------------------

[led_effect DBLts_fast_w_twinkle]
autostart:			  false
frame_rate:			 60
leds:
	neopixel:dash_lights
layers:
#   Name		Rate	Cutoff	Blend		Palette
	twinkle		1		1.5		add			(1.0, 1.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect DBLts_w_twinkle]
autostart:			  false
frame_rate:			 24
leds:
	neopixel:dash_lights
layers:
#   Name		Rate	Cutoff	Blend		Palette
	twinkle		1		0.1		add			(1.0, 1.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect DBLts_fast_rgb_gradient]
autostart:			  false
frame_rate:			 24
leds:
	neopixel:dash_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	gradient	10		0		add			(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect DBLts_fast_wrgb_gradient]
autostart:			  false
frame_rate:			 24
leds:
	neopixel:dash_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	gradient	10		0		add			(1.0, 1.0, 1.0),(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect DBLts_wbrgb_gradient]
autostart:			  false
frame_rate:			 24
leds:
	neopixel:dash_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	gradient	1		0		add			(1.0, 1.0, 1.0),(0.0, 0.0, 0.0),(0.1, 0.0, 0.0),(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect DBLts_wrgb_gradient]
autostart:			  false
frame_rate:			 24
leds:
	neopixel:dash_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	gradient	1		0		add			(1.0, 1.0, 1.0),(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect DBLts_rgb_gradient]
autostart:			  false
frame_rate:			 24
leds:
	neopixel:dash_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	gradient	1		0		add			(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect DBLts_slow_rgb_gradient]
autostart:			  false
frame_rate:			 24
leds:
	neopixel:dash_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	gradient	0.1		0		add			(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect DBLts_static_rgb_gradient]
autostart:			  false
frame_rate:			 1
leds:
	neopixel:dash_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	static		0		0		add			(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect DBLts_static_wrgb_gradient]
autostart:			  false
frame_rate:			 1
leds:
	neopixel:dash_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	static		0		0		add			(1.0, 1.0, 1.0),(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect DBLts_static_bwrgb_gradient]
autostart:			  false
frame_rate:			 1
leds:
	neopixel:dash_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	static		0		0		add			(0.0, 0.0, 0.0),(0.5, 0.5, 0.5),(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect DBLts_wrgb_twinkle]
autostart:			  false
frame_rate:			 60
leds:
	neopixel:dash_lights
layers:
#   Name		Rate	Cutoff	Blend		Palette
	twinkle		0.1		1.5		add			(1.0, 1.0, 1.0),(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect DBLts_red]
frame_rate:							1
autostart:							 false
leds:							   
	neopixel:dash_lights
layers:
 #   Name		Rate	Cutoff	Blend		Palette
	static		1		1		top			(1,0,0)

#----------------------------------------------------------------------------------

[led_effect DBLts_green]
frame_rate:							1
autostart:							 false
leds:							   
	neopixel:dash_lights
layers:
#   Name		Rate	Cutoff	Blend		Palette
	static		1		1		top			(0,1,0)

#----------------------------------------------------------------------------------

[led_effect DBLts_blue]
frame_rate:							1
autostart:			false
leds:							   
	neopixel:dash_lights
layers:
#   Name		Rate	Cutoff	Blend		Palette
	static		1		1		top			(0,0,1)

#----------------------------------------------------------------------------------

[led_effect DBLts_dim_rgb]
autostart:							 false
frame_rate:							24
leds:
	neopixel:dash_lights
layers: 
#   Name		Rate	Cutoff	Blend		Palette
	gradient	1		1		top			(0.1, 0.0, 0.0),(0.0, 0.1, 0.0),(0.0, 0.0, 0.1)

#----------------------------------------------------------------------------------

[led_effect DBLts_rgb]
autostart:							 false
frame_rate:							24
leds:
	neopixel:dash_lights
layers: 
#   Name		Rate	Cutoff	Blend		Palette
	gradient	1		1		top			(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect DBLts_critical_error]
autostart:							 false
frame_rate:							24
run_on_error:						  true
leds:
	neopixel:dash_lights
layers: 
#   Name		Rate	Cutoff	Blend		Palette
	strobe		1		1.5		add			(1.0,  1.0, 1.0)
	breathing	2		0		difference	(0.95, 0.0, 0.0)  
	static		1		0		top			(1.0,  0.0, 0.0)

#----------------------------------------------------------------------------------

[led_effect DBLts_critical_error2]
autostart:							 false
frame_rate:							24
run_on_error:						  false
leds:
	# neopixel:dash_lights ({printer.save_variables.variables.rear_ledbar_range})
	neopixel:dash_lights (5-8)
layers: 
#   Name				Rate	Cutoff	Blend		Palette
	strobe				1		1.5		add			(1.0,  1.0, 1.0)
	breathing			2		0		difference	(0.95, 0.0, 0.0)  
	static				1		0		top			(1.0,  0.0, 0.0)

#----------------------------------------------------------------------------------

[led_effect DBLts_bed_temp]
autostart:						  false
frame_rate:						 24
leds:							   
	neopixel:dash_lights
heater:							 heater_bed
layers:
#   Name		Rate	Cutoff	Blend		Palette
	heater		20		0		top			(0.019607843,0,1),(0.015686275,0,1),(0.011764706,0,1),(0.007843137,0,1),(0.003921569,0,1),(0,0,1),(0,0.007843137,1),(0,0.070588235,1),(0,0.133333333,1),(0,0.196078431,1),(0,0.266666667,1),(0,0.329411765,1),(0,0.392156863,1),(0,0.454901961,1),(0,0.517647059,1),(0,0.580392157,1),(0,0.643137255,1),(0,0.705882353,1),(0,0.768627451,1),(0,0.831372549,1),(0,0.894117647,1),(0,1,0.956862745),(0,1,0.815686275),(0,1,0.658823529),(0,1,0.51372549),(0,1,0.360784314),(0,1,0.211764706),(0,1,0.062745098),(0.090196078,1,0),(0.243137255,1,0),(0.396078431,1,0),(0.541176471,1,0),(0.690196078,1,0),(0.843137255,1,0),(0.992156863,1,0),(1,0.980392157,0),(1,0.941176471,0),(1,0.901960784,0),(1,0.862745098,0),(1,0.823529412,0),(1,0.784313725,0),(1,0.745098039,0),(1,0.705882353,0),(1,0.666666667,0),(1,0.62745098,0),(1,0.588235294,0),(1,0.549019608,0),(1,0.509803922,0),(1,0.470588235,0),(1,0.431372549,0),(1,0.392156863,0),(1,0.352941176,0),(1,0.31372549,0),(1,0.274509804,0),(1,0.235294118,0),(1,0.196078431,0),(1,0.156862745,0),(1,0.117647059,0),(1,0.078431373,0),(1,0.039215686,0),(1,0,0)

#----------------------------------------------------------------------------------

[led_effect DBLts_he_temp]
autostart:						  false
frame_rate:						 24
heater:							 extruder
leds:							   
	neopixel:dash_lights
layers:
#   Name		Rate	Cutoff	Blend		Palette
	heater		20		0		top			(0.019607843,0,1),(0.015686275,0,1),(0.011764706,0,1),(0.007843137,0,1),(0.003921569,0,1),(0,0,1),(0,0.007843137,1),(0,0.070588235,1),(0,0.133333333,1),(0,0.196078431,1),(0,0.266666667,1),(0,0.329411765,1),(0,0.392156863,1),(0,0.454901961,1),(0,0.517647059,1),(0,0.580392157,1),(0,0.643137255,1),(0,0.705882353,1),(0,0.768627451,1),(0,0.831372549,1),(0,0.894117647,1),(0,1,0.956862745),(0,1,0.815686275),(0,1,0.658823529),(0,1,0.51372549),(0,1,0.360784314),(0,1,0.211764706),(0,1,0.062745098),(0.090196078,1,0),(0.243137255,1,0),(0.396078431,1,0),(0.541176471,1,0),(0.690196078,1,0),(0.843137255,1,0),(0.992156863,1,0),(1,0.980392157,0),(1,0.941176471,0),(1,0.901960784,0),(1,0.862745098,0),(1,0.823529412,0),(1,0.784313725,0),(1,0.745098039,0),(1,0.705882353,0),(1,0.666666667,0),(1,0.62745098,0),(1,0.588235294,0),(1,0.549019608,0),(1,0.509803922,0),(1,0.470588235,0),(1,0.431372549,0),(1,0.392156863,0),(1,0.352941176,0),(1,0.31372549,0),(1,0.274509804,0),(1,0.235294118,0),(1,0.196078431,0),(1,0.156862745,0),(1,0.117647059,0),(1,0.078431373,0),(1,0.039215686,0),(1,0,0)

#----------------------------------------------------------------------------------

[led_effect DBLts_kitt]
autostart:							 false
frame_rate:							24
leds:
	neopixel:dash_lights
layers: 
#   Name		Rate	Cutoff	Blend		Palette
	comet		0.5		1.0		top			(1.0, 0.0, 0.0),(0.5, 0.0, 0.0),(0.3, 0.0, 0.0),(0.1, 0.0, 0.0)

#----------------------------------------------------------------------------------
###################################################################################
###################################################################################
###################################################################################
###################################################################################
###################################################################################
###################################################################################

[led_effect LcdLts_test]
autostart:			  false
frame_rate:			 60
leds:
	neopixel:lcd_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	twinkle		0.0001	60.0	add			(1.0, 1.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect LcdLts_off]
autostart:			  false
frame_rate:			 1
leds:
	neopixel:lcd_lights
layers:
#   Name		Rate	Cutoff	Blend		Palette
	static		0		0		add			(0.0, 0.0, 0.0)

#----------------------------------------------------------------------------------

[led_effect LcdLts_normal]
autostart:			  false
frame_rate:			 1
leds:
	neopixel:lcd_lights
layers:
#   Name		Rate	Cutoff	Blend		Palette
	static		0		0		add			(0.5, 0.5, 0.5)

#----------------------------------------------------------------------------------

[led_effect LcdLts_fast_w_twinkle]
autostart:			  false
frame_rate:			 60
leds:
	neopixel:lcd_lights
layers:
#   Name		Rate	Cutoff	Blend		Palette
	twinkle		1		1.5		add			(1.0, 1.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect LcdLts_w_twinkle]
autostart:			  false
frame_rate:			 24
leds:
	neopixel:lcd_lights
layers:
#   Name		Rate	Cutoff	Blend		Palette
	twinkle		1		0.1		add			(1.0, 1.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect LcdLts_fast_rgb_gradient]
autostart:			  false
frame_rate:			 24
leds:
	neopixel:lcd_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	gradient	10		0		add			(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect LcdLts_fast_wrgb_gradient]
autostart:			  false
frame_rate:			 24
leds:
	neopixel:lcd_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	gradient	10		0		add			(1.0, 1.0, 1.0),(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect LcdLts_wbrgb_gradient]
autostart:			  false
frame_rate:			 24
leds:
	neopixel:lcd_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	gradient	1		0		add			(1.0, 1.0, 1.0),(0.0, 0.0, 0.0),(0.1, 0.0, 0.0),(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect LcdLts_wrgb_gradient]
autostart:			  false
frame_rate:			 24
leds:
	neopixel:lcd_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	gradient	1		0		add			(1.0, 1.0, 1.0),(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect LcdLts_rgb_gradient]
autostart:			  false
frame_rate:			 24
leds:
	neopixel:lcd_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	gradient	1		0		add			(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect LcdLts_slow_rgb_gradient]
autostart:			  false
frame_rate:			 24
leds:
	neopixel:lcd_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	gradient	0.1		0		add			(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect LcdLts_static_rgb_gradient]
autostart:			  false
frame_rate:			 1
leds:
	neopixel:lcd_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	static		0		0		add			(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect LcdLts_static_wrgb_gradient]
autostart:			  false
frame_rate:			 1
leds:
	neopixel:lcd_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	static		0		0		add			(1.0, 1.0, 1.0),(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect LcdLts_static_bwrgb_gradient]
autostart:			  false
frame_rate:			 1
leds:
	neopixel:lcd_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	static		0		0		add			(0.0, 0.0, 0.0),(0.5, 0.5, 0.5),(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect LcdLts_wrgb_twinkle]
autostart:			  false
frame_rate:			 60
leds:
	neopixel:lcd_lights
layers:
#   Name		Rate	Cutoff	Blend		Palette
	twinkle		0.1		1.5		add			(1.0, 1.0, 1.0),(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect LcdLts_red]
frame_rate:							1
autostart:							 false
leds:							   
	neopixel:lcd_lights
layers:
 #   Name		Rate	Cutoff	Blend		Palette
	static		1		1		top			(1,0,0)

#----------------------------------------------------------------------------------

[led_effect LcdLts_green]
frame_rate:							1
autostart:							 false
leds:							   
	neopixel:lcd_lights
layers:
#   Name		Rate	Cutoff	Blend		Palette
	static		1		1		top			(0,1,0)

#----------------------------------------------------------------------------------

[led_effect LcdLts_blue]
frame_rate:							1
autostart:			false
leds:							   
	neopixel:lcd_lights
layers:
#   Name		Rate	Cutoff	Blend		Palette
	static		1		1		top			(0,0,1)

#----------------------------------------------------------------------------------

[led_effect LcdLts_dim_rgb]
autostart:							 false
frame_rate:							24
leds:
	neopixel:lcd_lights
layers: 
#   Name		Rate	Cutoff	Blend		Palette
	gradient	1		1		top			(0.1, 0.0, 0.0),(0.0, 0.1, 0.0),(0.0, 0.0, 0.1)

#----------------------------------------------------------------------------------

[led_effect LcdLts_rgb]
autostart:							 false
frame_rate:							24
leds:
	neopixel:lcd_lights
layers: 
#   Name		Rate	Cutoff	Blend		Palette
	gradient	1		1		top			(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect LcdLts_critical_error]
autostart:							 false
frame_rate:							24
run_on_error:						  true
leds:
	neopixel:lcd_lights
layers: 
#   Name		Rate	Cutoff	Blend		Palette
	strobe		1		1.5		add			(1.0,  1.0, 1.0)
	breathing	2		0		difference	(0.95, 0.0, 0.0)  
	static		1		0		top			(1.0,  0.0, 0.0)

#----------------------------------------------------------------------------------

[led_effect LcdLts_critical_error2]
autostart:							 false
frame_rate:							24
run_on_error:						  false
leds:
	# neopixel:lcd_lights ({printer.save_variables.variables.rear_ledbar_range})
	neopixel:lcd_lights
layers: 
#   Name				Rate	Cutoff	Blend		Palette
	strobe				1		1.5		add			(1.0,  1.0, 1.0)
	breathing			2		0		difference	(0.95, 0.0, 0.0)  
	static				1		0		top			(1.0,  0.0, 0.0)

#----------------------------------------------------------------------------------

[led_effect LcdLts_bed_temp]
autostart:						  false
frame_rate:						 24
heater:							 heater_bed
leds:							   
	neopixel:lcd_lights
layers:
#   Name		Rate	Cutoff	Blend		Palette
	heater		20		0		top			(0.019607843,0,1),(0.015686275,0,1),(0.011764706,0,1),(0.007843137,0,1),(0.003921569,0,1),(0,0,1),(0,0.007843137,1),(0,0.070588235,1),(0,0.133333333,1),(0,0.196078431,1),(0,0.266666667,1),(0,0.329411765,1),(0,0.392156863,1),(0,0.454901961,1),(0,0.517647059,1),(0,0.580392157,1),(0,0.643137255,1),(0,0.705882353,1),(0,0.768627451,1),(0,0.831372549,1),(0,0.894117647,1),(0,1,0.956862745),(0,1,0.815686275),(0,1,0.658823529),(0,1,0.51372549),(0,1,0.360784314),(0,1,0.211764706),(0,1,0.062745098),(0.090196078,1,0),(0.243137255,1,0),(0.396078431,1,0),(0.541176471,1,0),(0.690196078,1,0),(0.843137255,1,0),(0.992156863,1,0),(1,0.980392157,0),(1,0.941176471,0),(1,0.901960784,0),(1,0.862745098,0),(1,0.823529412,0),(1,0.784313725,0),(1,0.745098039,0),(1,0.705882353,0),(1,0.666666667,0),(1,0.62745098,0),(1,0.588235294,0),(1,0.549019608,0),(1,0.509803922,0),(1,0.470588235,0),(1,0.431372549,0),(1,0.392156863,0),(1,0.352941176,0),(1,0.31372549,0),(1,0.274509804,0),(1,0.235294118,0),(1,0.196078431,0),(1,0.156862745,0),(1,0.117647059,0),(1,0.078431373,0),(1,0.039215686,0),(1,0,0)

#----------------------------------------------------------------------------------

[led_effect LcdLts_he_temp]
autostart:						  false
frame_rate:						 24
heater:							 extruder
leds:							   
	neopixel:lcd_lights
layers:
#   Name		Rate	Cutoff	Blend		Palette
	heater		20		0		top			(0.019607843,0,1),(0.015686275,0,1),(0.011764706,0,1),(0.007843137,0,1),(0.003921569,0,1),(0,0,1),(0,0.007843137,1),(0,0.070588235,1),(0,0.133333333,1),(0,0.196078431,1),(0,0.266666667,1),(0,0.329411765,1),(0,0.392156863,1),(0,0.454901961,1),(0,0.517647059,1),(0,0.580392157,1),(0,0.643137255,1),(0,0.705882353,1),(0,0.768627451,1),(0,0.831372549,1),(0,0.894117647,1),(0,1,0.956862745),(0,1,0.815686275),(0,1,0.658823529),(0,1,0.51372549),(0,1,0.360784314),(0,1,0.211764706),(0,1,0.062745098),(0.090196078,1,0),(0.243137255,1,0),(0.396078431,1,0),(0.541176471,1,0),(0.690196078,1,0),(0.843137255,1,0),(0.992156863,1,0),(1,0.980392157,0),(1,0.941176471,0),(1,0.901960784,0),(1,0.862745098,0),(1,0.823529412,0),(1,0.784313725,0),(1,0.745098039,0),(1,0.705882353,0),(1,0.666666667,0),(1,0.62745098,0),(1,0.588235294,0),(1,0.549019608,0),(1,0.509803922,0),(1,0.470588235,0),(1,0.431372549,0),(1,0.392156863,0),(1,0.352941176,0),(1,0.31372549,0),(1,0.274509804,0),(1,0.235294118,0),(1,0.196078431,0),(1,0.156862745,0),(1,0.117647059,0),(1,0.078431373,0),(1,0.039215686,0),(1,0,0)

#----------------------------------------------------------------------------------

[led_effect LcdLts_kitt]
autostart:							 false
frame_rate:							24
leds:
	neopixel:lcd_lights
layers: 
#   Name		Rate	Cutoff	Blend		Palette
	comet		0.5		1.0		top			(1.0, 0.0, 0.0),(0.5, 0.0, 0.0),(0.3, 0.0, 0.0),(0.1, 0.0, 0.0)

#----------------------------------------------------------------------------------
###################################################################################
###################################################################################
###################################################################################
###################################################################################
###################################################################################
###################################################################################

[led_effect ERCF_test]
autostart:			  false
frame_rate:			 60
leds:
	neopixel:ercf_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	twinkle		0.0001	60.0	add			(1.0, 1.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect ERCF_off]
autostart:			  false
frame_rate:			 1
leds:
	neopixel:ercf_lights
layers:
#   Name		Rate	Cutoff	Blend		Palette
	static		0		0		add			(0.0, 0.0, 0.0)

#----------------------------------------------------------------------------------

[led_effect ERCF_normal]
autostart:			  false
frame_rate:			 1
leds:
	neopixel:ercf_lights
layers:
#   Name		Rate	Cutoff	Blend		Palette
	static		0		0		add			(0.5, 0.5, 0.5)

#----------------------------------------------------------------------------------

[led_effect ERCF_fast_w_twinkle]
autostart:			  false
frame_rate:			 60
leds:
	neopixel:ercf_lights
layers:
#   Name		Rate	Cutoff	Blend		Palette
	twinkle		1		1.5		add			(1.0, 1.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect ERCF_w_twinkle]
autostart:			  false
frame_rate:			 24
leds:
	neopixel:ercf_lights
layers:
#   Name		Rate	Cutoff	Blend		Palette
	twinkle		1		0.1		add			(1.0, 1.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect ERCF_fast_rgb_gradient]
autostart:			  false
frame_rate:			 24
leds:
	neopixel:ercf_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	gradient	10		0		add			(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect ERCF_fast_wrgb_gradient]
autostart:			  false
frame_rate:			 24
leds:
	neopixel:ercf_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	gradient	10		0		add			(1.0, 1.0, 1.0),(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect ERCF_wbrgb_gradient]
autostart:			  false
frame_rate:			 24
leds:
	neopixel:ercf_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	gradient	1		0		add			(1.0, 1.0, 1.0),(0.0, 0.0, 0.0),(0.1, 0.0, 0.0),(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect ERCF_wrgb_gradient]
autostart:			  false
frame_rate:			 24
leds:
	neopixel:ercf_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	gradient	1		0		add			(1.0, 1.0, 1.0),(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect ERCF_rgb_gradient]
autostart:			  false
frame_rate:			 24
leds:
	neopixel:ercf_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	gradient	1		0		add			(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect ERCF_slow_rgb_gradient]
autostart:			  false
frame_rate:			 24
leds:
	neopixel:ercf_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	gradient	0.1		0		add			(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect ERCF_static_rgb_gradient]
autostart:			  false
frame_rate:			 1
leds:
	neopixel:ercf_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	static		0		0		add			(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect ERCF_static_wrgb_gradient]
autostart:			  false
frame_rate:			 1
leds:
	neopixel:ercf_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	static		0		0		add			(1.0, 1.0, 1.0),(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect ERCF_static_bwrgb_gradient]
autostart:			  false
frame_rate:			 1
leds:
	neopixel:ercf_lights

layers:
#   Name		Rate	Cutoff	Blend		Palette
	static		0		0		add			(0.0, 0.0, 0.0),(0.5, 0.5, 0.5),(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect ERCF_wrgb_twinkle]
autostart:			  false
frame_rate:			 60
leds:
	neopixel:ercf_lights
layers:
#   Name		Rate	Cutoff	Blend		Palette
	twinkle		0.1		1.5		add			(1.0, 1.0, 1.0),(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect ERCF_red]
frame_rate:							1
autostart:							 false
leds:							   
	neopixel:ercf_lights
layers:
 #   Name		Rate	Cutoff	Blend		Palette
	static		1		1		top			(1,0,0)

#----------------------------------------------------------------------------------

[led_effect ERCF_green]
frame_rate:							1
autostart:							 false
leds:							   
	neopixel:ercf_lights
layers:
#   Name		Rate	Cutoff	Blend		Palette
	static		1		1		top			(0,1,0)

#----------------------------------------------------------------------------------

[led_effect ERCF_blue]
frame_rate:							1
autostart:			false
leds:							   
	neopixel:ercf_lights
layers:
#   Name		Rate	Cutoff	Blend		Palette
	static		1		1		top			(0,0,1)

#----------------------------------------------------------------------------------

[led_effect ERCF_dim_rgb]
autostart:							 false
frame_rate:							24
leds:
	neopixel:ercf_lights
layers: 
#   Name		Rate	Cutoff	Blend		Palette
	gradient	1		1		top			(0.1, 0.0, 0.0),(0.0, 0.1, 0.0),(0.0, 0.0, 0.1)

#----------------------------------------------------------------------------------

[led_effect ERCF_rgb]
autostart:							 false
frame_rate:							24
leds:
	neopixel:ercf_lights
layers: 
#   Name		Rate	Cutoff	Blend		Palette
	gradient	1		1		top			(1.0, 0.0, 0.0),(0.0, 1.0, 0.0),(0.0, 0.0, 1.0)

#----------------------------------------------------------------------------------

[led_effect ERCF_critical_error]
autostart:							 false
frame_rate:							24
run_on_error:						  true
leds:
	neopixel:ercf_lights
layers: 
#   Name		Rate	Cutoff	Blend		Palette
	strobe		1		1.5		add			(1.0,  1.0, 1.0)
	breathing	2		0		difference	(0.95, 0.0, 0.0)  
	static		1		0		top			(1.0,  0.0, 0.0)

#----------------------------------------------------------------------------------

[led_effect ERCF_critical_error2]
autostart:							 false
frame_rate:							24
run_on_error:						  false
leds:
	# neopixel:ercf_lights ({printer.save_variables.variables.rear_ledbar_range})
	neopixel:ercf_lights (5-8)
layers: 
#   Name				Rate	Cutoff	Blend		Palette
	strobe				1		1.5		add			(1.0,  1.0, 1.0)
	breathing			2		0		difference	(0.95, 0.0, 0.0)  
	static				1		0		top			(1.0,  0.0, 0.0)

#----------------------------------------------------------------------------------

[led_effect ERCF_bed_temp]
autostart:						  false
frame_rate:						 24
leds:							   
	neopixel:ercf_lights
heater:							 heater_bed
layers:
#   Name		Rate	Cutoff	Blend		Palette
	heater		20		0		top			(0.019607843,0,1),(0.015686275,0,1),(0.011764706,0,1),(0.007843137,0,1),(0.003921569,0,1),(0,0,1),(0,0.007843137,1),(0,0.070588235,1),(0,0.133333333,1),(0,0.196078431,1),(0,0.266666667,1),(0,0.329411765,1),(0,0.392156863,1),(0,0.454901961,1),(0,0.517647059,1),(0,0.580392157,1),(0,0.643137255,1),(0,0.705882353,1),(0,0.768627451,1),(0,0.831372549,1),(0,0.894117647,1),(0,1,0.956862745),(0,1,0.815686275),(0,1,0.658823529),(0,1,0.51372549),(0,1,0.360784314),(0,1,0.211764706),(0,1,0.062745098),(0.090196078,1,0),(0.243137255,1,0),(0.396078431,1,0),(0.541176471,1,0),(0.690196078,1,0),(0.843137255,1,0),(0.992156863,1,0),(1,0.980392157,0),(1,0.941176471,0),(1,0.901960784,0),(1,0.862745098,0),(1,0.823529412,0),(1,0.784313725,0),(1,0.745098039,0),(1,0.705882353,0),(1,0.666666667,0),(1,0.62745098,0),(1,0.588235294,0),(1,0.549019608,0),(1,0.509803922,0),(1,0.470588235,0),(1,0.431372549,0),(1,0.392156863,0),(1,0.352941176,0),(1,0.31372549,0),(1,0.274509804,0),(1,0.235294118,0),(1,0.196078431,0),(1,0.156862745,0),(1,0.117647059,0),(1,0.078431373,0),(1,0.039215686,0),(1,0,0)

#----------------------------------------------------------------------------------

[led_effect ERCF_he_temp]
autostart:						  false
frame_rate:						 24
heater:							 extruder
leds:							   
	neopixel:ercf_lights
layers:
#   Name		Rate	Cutoff	Blend		Palette
	heater		20		0		top			(0.019607843,0,1),(0.015686275,0,1),(0.011764706,0,1),(0.007843137,0,1),(0.003921569,0,1),(0,0,1),(0,0.007843137,1),(0,0.070588235,1),(0,0.133333333,1),(0,0.196078431,1),(0,0.266666667,1),(0,0.329411765,1),(0,0.392156863,1),(0,0.454901961,1),(0,0.517647059,1),(0,0.580392157,1),(0,0.643137255,1),(0,0.705882353,1),(0,0.768627451,1),(0,0.831372549,1),(0,0.894117647,1),(0,1,0.956862745),(0,1,0.815686275),(0,1,0.658823529),(0,1,0.51372549),(0,1,0.360784314),(0,1,0.211764706),(0,1,0.062745098),(0.090196078,1,0),(0.243137255,1,0),(0.396078431,1,0),(0.541176471,1,0),(0.690196078,1,0),(0.843137255,1,0),(0.992156863,1,0),(1,0.980392157,0),(1,0.941176471,0),(1,0.901960784,0),(1,0.862745098,0),(1,0.823529412,0),(1,0.784313725,0),(1,0.745098039,0),(1,0.705882353,0),(1,0.666666667,0),(1,0.62745098,0),(1,0.588235294,0),(1,0.549019608,0),(1,0.509803922,0),(1,0.470588235,0),(1,0.431372549,0),(1,0.392156863,0),(1,0.352941176,0),(1,0.31372549,0),(1,0.274509804,0),(1,0.235294118,0),(1,0.196078431,0),(1,0.156862745,0),(1,0.117647059,0),(1,0.078431373,0),(1,0.039215686,0),(1,0,0)

#----------------------------------------------------------------------------------

[led_effect ERCF_kitt]
autostart:							 false
frame_rate:							24
leds:
	neopixel:ercf_lights

layers: 
#   Name		Rate	Cutoff	Blend		Palette
	comet		0.5		1.0		top			(1.0, 0.0, 0.0),(0.5, 0.0, 0.0),(0.3, 0.0, 0.0),(0.1, 0.0, 0.0)

